<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¯Ù„ÙŠÙ„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙÙŠ Ø±Ù…Ø¶Ø§Ù†</title>
  <meta name="theme-color" content="#0b1020">

  <style>
    :root{
      --bg: #0b1020;
      --panel: rgba(255,255,255,.06);
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.05);
      --line: rgba(255,255,255,.10);
      --text: #eef2ff;
      --muted: rgba(238,242,255,.75);
      --muted2: rgba(238,242,255,.55);
      --accent: #76d6ff;
      --accent2:#a78bfa;
      --good:#38d39f;
      --warn:#f7c948;
      --bad:#ff5c7a;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 14px;
      --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Tahoma, Arial, "Noto Naskh Arabic", "Noto Sans Arabic", sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: var(--font);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(118,214,255,.14), transparent 60%),
        radial-gradient(1000px 600px at 85% 20%, rgba(167,139,250,.14), transparent 55%),
        radial-gradient(900px 500px at 30% 90%, rgba(56,211,159,.10), transparent 55%),
        linear-gradient(180deg, #070b16 0%, var(--bg) 40%, #070b16 100%);
      min-height:100vh;
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 22px 16px 38px;
    }

    .hero{
      display:flex;
      gap:16px;
      align-items:stretch;
      justify-content:space-between;
      flex-wrap:wrap;
      padding: 18px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .hero:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(400px 160px at 10% 20%, rgba(118,214,255,.22), transparent 60%),
        radial-gradient(420px 180px at 85% 25%, rgba(167,139,250,.18), transparent 60%);
      opacity:.75;
      pointer-events:none;
    }

    .hero > *{ position:relative; z-index:1; }

    .title{
      min-width: 260px;
      flex: 1 1 420px;
    }
    .title h1{
      margin: 0 0 6px 0;
      font-size: 22px;
      letter-spacing:.2px;
    }
    .title p{
      margin:0;
      color: var(--muted);
      line-height:1.7;
      font-size: 14px;
    }

    .quick{
      flex: 1 1 420px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-width: 280px;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .input, .select{
      flex: 1 1 240px;
      display:flex;
      align-items:center;
      gap:10px;
      padding: 12px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--line);
      backdrop-filter: blur(6px);
    }

    input[type="search"], select{
      width:100%;
      background: transparent;
      border:0;
      outline:none;
      color: var(--text);
      font-size: 14px;
      font-family: var(--font);
    }

    select{
      appearance:none;
      -webkit-appearance:none;
      -moz-appearance:none;
      padding-left: 22px;
      cursor:pointer;
    }

    .chipbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-start;
    }

    .chip{
      padding: 7px 10px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.05);
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, background .2s ease;
    }
    .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); }
    .chip.active{
      color: var(--text);
      border-color: rgba(118,214,255,.55);
      background: linear-gradient(180deg, rgba(118,214,255,.18), rgba(255,255,255,.05));
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .btn{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      font-family: var(--font);
      font-size: 13px;
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
      display:inline-flex;
      gap:8px;
      align-items:center;
      justify-content:center;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); }
    .btn.primary{
      border-color: rgba(118,214,255,.55);
      background: linear-gradient(180deg, rgba(118,214,255,.18), rgba(255,255,255,.06));
    }
    .btn.danger{
      border-color: rgba(255,92,122,.45);
      background: linear-gradient(180deg, rgba(255,92,122,.16), rgba(255,255,255,.05));
    }

    .hint{
      margin-top: 10px;
      color: var(--muted2);
      font-size: 12px;
      line-height:1.7;
    }

    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }

    .stats{
      grid-column: span 12;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    .stat{
      flex: 1 1 180px;
      padding: 12px 12px;
      border-radius: var(--radius2);
      border: 1px solid var(--line);
      background: rgba(255,255,255,.05);
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .stat .k{ color: var(--muted); font-size: 12px; }
    .stat .v{ font-size: 16px; }

    .cards{
      grid-column: span 12;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }

    .card{
      grid-column: span 6;
      border-radius: var(--radius);
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: 0 10px 30px rgba(0,0,0,.28);
      overflow:hidden;
      min-height: 170px;
      display:flex;
      flex-direction:column;
    }

    @media (max-width: 880px){
      .card{ grid-column: span 12; }
    }

    .cardhead{
      padding: 14px 14px 10px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      justify-content:space-between;
      border-bottom: 1px solid var(--line);
      background: rgba(255,255,255,.03);
    }

    .medname{
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .medname .en{
      font-size: 15px;
      font-weight: 700;
      letter-spacing:.2px;
      margin:0;
    }
    .medname .ar{
      font-size: 13px;
      color: var(--muted);
      margin:0;
    }

    .badge{
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      white-space:nowrap;
      max-width: 52%;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .cardbody{
      padding: 12px 14px 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex: 1;
    }

    .meta{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }

    .pill{
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
    }

    .rec{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(118,214,255,.40);
      background: rgba(118,214,255,.08);
      line-height: 1.8;
      font-size: 13px;
      color: var(--text);
      white-space: pre-wrap;
    }

    .note{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(247,201,72,.40);
      background: rgba(247,201,72,.08);
      line-height: 1.8;
      font-size: 13px;
      color: var(--text);
      white-space: pre-wrap;
    }

    .cardfoot{
      padding: 12px 14px 14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-start;
      border-top: 1px solid var(--line);
      background: rgba(255,255,255,.02);
    }

    .small{
      font-size: 12px;
      color: var(--muted2);
      line-height: 1.7;
    }

    footer{
      margin-top: 18px;
      padding: 14px;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.8;
    }

    .mono{ font-family: var(--mono); }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="hero" aria-label="header">
      <div class="title">
        <h1>Ø¯Ù„ÙŠÙ„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙÙŠ Ø±Ù…Ø¶Ø§Ù†</h1>
        <p>
          Ø§Ø®ØªØ± ÙØ¦Ø©/Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŒ ÙˆØ³ØªØ¸Ù‡Ø± Ø§Ù„ØªÙˆØµÙŠØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©.
          <br>
          <span class="small">âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù…Ø±Ø¬Ø¹ÙŠ ÙˆÙŠÙÙØ¶Ù‘Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø±ÙŠØ¶ (Ø§Ù„Ø¹Ù…Ø±ØŒ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ÙƒÙ„Ù‰ØŒ Ù†Ù‚Øµ Ø§Ù„Ø³ÙƒØ±ØŒ Ø£Ø¯ÙˆÙŠØ© Ø£Ø®Ø±Ù‰).</span>
        </p>
        <div class="hint">
          ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª (Ù…Ù„Ù ÙˆØ§Ø­Ø¯). Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±: Ø§ÙØªØ­Ù‡ Ø¨Ø§Ù„Ù…ØªØµÙØ­ØŒ ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©.
        </div>
      </div>

      <div class="quick">
        <div class="row">
          <div class="input" title="Ø¨Ø­Ø«">
            <span style="opacity:.85">ğŸ”</span>
            <input id="q" type="search" placeholder="Ø§Ø¨Ø­Ø«: Ù…Ø«Ø§Ù„ (Ø§Ù„Ù…Ù†Ø¸Ù…ØŒ GlibenclamideØŒ ThyroxineØŒ Ù„Ø§Ø²ÙŠÙƒØ³â€¦)" autocomplete="off" />
          </div>

          <div class="select" title="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¦Ø©">
            <span style="opacity:.85">ğŸ—‚ï¸</span>
            <select id="cat">
              <option value="all">ÙƒÙ„ Ø§Ù„ÙØ¦Ø§Øª</option>
            </select>
          </div>
        </div>

        <div class="chipbar" id="chipbar" aria-label="chips"></div>

        <div class="actions">
          <button class="btn primary" id="downloadBtn" type="button">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ù†Ø³Ø®Ø© HTML</button>
          <button class="btn" id="printBtn" type="button">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / PDF</button>
          <button class="btn danger" id="resetBtn" type="button">ğŸ§¹ ØªÙØ±ÙŠØº Ø§Ù„Ø¨Ø­Ø«</button>
        </div>
      </div>
    </section>

    <section class="grid" aria-label="content">
      <div class="stats" id="stats"></div>
      <div class="cards" id="cards"></div>
    </section>

    <footer>
      <div><strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong> ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø£Ø¹Ø±Ø§Ø¶ Ù†Ù‚Øµ Ø³ÙƒØ±ØŒ Ø£Ùˆ Ø£Ù…Ø±Ø§Ø¶ Ù…Ø±Ø§ÙÙ‚Ø© Ø´Ø¯ÙŠØ¯Ø©ØŒ Ø£Ùˆ Ø­Ù…Ù„ØŒ Ø£Ùˆ ØªØ¹Ø¯Ø¯ Ø£Ø¯ÙˆÙŠØ©â€”Ø§ØªÙ‘Ø¨Ø¹ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙˆØ®Ø·Ø© ÙØ±Ø¯ÙŠØ©.</div>
      <div class="small">Â© Ù…Ù„Ù Ù…Ø³ØªÙ‚Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØªØ¨ÙŠ â€” ÙŠÙ…ÙƒÙ†Ùƒ Ø­ÙØ¸Ù‡ ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡ Ø¯Ø§Ø®Ù„ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„.</div>
    </footer>
  </div>

  <script>
    // =========================
    // Data (from your table)
    // =========================
    const DATA = [
      // Diabetes â€“ oral medications
      {
        
      },{
  category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
  disease: "Diabetes â€“ oral medications",
  med_en: "Metformin",
  med_ar: "Ø§Ù„Ù…Ù†Ø¸Ù…",
  frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
  recommendation: "Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± Ù…Ø¨Ø§Ø´Ø±Ø©"
},
{
  category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
  disease: "Diabetes â€“ oral medications",
  med_en: "Metformin",
  med_ar: "Ø§Ù„Ù…Ù†Ø¸Ù…",
  frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
  recommendation: "Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ§Ù„Ø³Ø­ÙˆØ±"
},
{
  category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
  disease: "Diabetes â€“ oral medications",
  med_en: "Metformin",
  med_ar: "Ø§Ù„Ù…Ù†Ø¸Ù…",
  frequency: "3 Ù…Ø±Ø§Øª Ø£Ùˆ Ø£ÙƒØ«Ø±",
  recommendation: "ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¬Ø±Ø¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ§Ù„Ø³Ø­ÙˆØ±"
},
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
        disease: "Diabetes â€“ oral medications",
        med_en: "Sulfonylurea (Glibenclamide / Gliclazide)",
        med_ar: "Ø§Ù„Ø¯ÙˆØ§Ù†ÙŠÙ„ / Ø§Ù„Ø¬Ù„ÙŠÙƒÙ„Ø§Ø²Ø§ÙŠØ¯",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙØ·Ø§Ø± Ø¨Ø¯ÙˆÙ† ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø©"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
        disease: "Diabetes â€“ oral medications",
        med_en: "Sulfonylurea (Glibenclamide / Gliclazide)",
        med_ar: "Ø§Ù„Ø¯ÙˆØ§Ù†ÙŠÙ„ / Ø§Ù„Ø¬Ù„ÙŠÙƒÙ„Ø§Ø²Ø§ÙŠØ¯",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙƒÙ…Ø§ Ù‡ÙŠ\nØ¬Ø±Ø¹Ø© Ø§Ù„Ø³Ø­ÙˆØ± ÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„Ù‡Ø§ Ø¨Ù†Ø³Ø¨Ø© 50%"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø£Ø¯ÙˆÙŠØ© ÙÙ…ÙˆÙŠØ©",
        disease: "Diabetes â€“ oral medications",
        med_en: "Sulfonylurea (Glibenclamide / Gliclazide)",
        med_ar: "Ø§Ù„Ø¯ÙˆØ§Ù†ÙŠÙ„ / Ø§Ù„Ø¬Ù„ÙŠÙƒÙ„Ø§Ø²Ø§ÙŠØ¯",
        frequency: "3 Ù…Ø±Ø§Øª Ø£Ùˆ Ø£ÙƒØ«Ø±",
        recommendation: "ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¬Ø±Ø¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ§Ù„Ø³Ø­ÙˆØ±"
      },

      // Diabetes â€“ insulin therapy
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Long acting insulin",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø·ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¯Ù‰ (Ù…Ø«Ù„ Ø£Ù‚Ù„Ø§Ù… Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰)",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø± Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø© 30%"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Long acting insulin",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø·ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¯Ù‰ (Ù…Ø«Ù„ Ø£Ù‚Ù„Ø§Ù… Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰)",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¬Ø±Ø¹Ø© Ø§Ù„ØµØ¨Ø§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø±\nÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø­ÙˆØ± 50%"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Premixed insulin",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø§Ù„Ù…Ø®Ù„ÙˆØ·",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø§Ù„Ø¬Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙƒÙ…Ø§ Ù‡ÙŠ"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Premixed insulin",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø§Ù„Ù…Ø®Ù„ÙˆØ·",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¬Ø±Ø¹Ø© Ø§Ù„ØµØ¨Ø§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙƒÙ…Ø§ Ù‡ÙŠ\nÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø¬Ø±Ø¹Ø© Ø§Ù„Ø³Ø­ÙˆØ± Ø¨Ù†Ø³Ø¨Ø© 50%"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Premixed insulin",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø§Ù„Ù…Ø®Ù„ÙˆØ·",
        frequency: "3 Ù…Ø±Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ÙŠØªÙ… Ø§Ù„ØºØ§Ø¡ Ø¬Ø±Ø¹Ø© Ø§Ù„ØºØ°Ø§Ø¡\nØªØ¤Ø®Ø° Ø¬Ø±Ø¹Ø© Ø§Ù„ØµØ¨Ø§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø±\nØ¬Ø±Ø¹Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ ØªØ¤Ø®Ø° Ù‚Ø¨Ù„ Ø§Ù„Ø³Ø­ÙˆØ± ÙˆÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„Ù‡Ø§ Ø¨Ù†Ø³Ø¨Ø© 50%"
      },
      {
        category: "Ø§Ù„Ø³ÙƒØ±ÙŠ â€“ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†",
        disease: "Diabetes â€“ insulin therapy",
        med_en: "Rapid acting insulin (e.g., Apidra / Regular)",
        med_ar: "Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ† Ø³Ø±ÙŠØ¹ Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ù…Ø«Ù„ Ø§Ù„Ø§Ø¨ÙŠØ¯Ø±Ø§ØŒ Ø§Ù„ØµØ§ÙÙŠ",
        frequency: "3 Ù…Ø±Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¬Ø±Ø¹Ø© Ø§Ù„ØµØ¨Ø§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø§ÙØ·Ø§Ø±\nÙŠØªÙ… Ø§Ù„ØºØ§Ø¡ Ø¬Ø±Ø¹Ø© Ø§Ù„ØºØ°Ø§Ø¡\nØªØ¤Ø®Ø° Ø¬Ø±Ø¹Ø© Ø§Ù„Ù…Ø³Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ø³Ø­ÙˆØ± ÙˆÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„Ù‡Ø§ Ø¨Ù†Ø³Ø¨Ø© 30%"
      },

      // Antihypertensive medication
      {
        category: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø¶ØºØ·",
        disease: "Antihypertensive medication",
        med_en: "Bisoprolol (Concor)",
        med_ar: "Ø§Ù„ÙƒÙˆÙ†ÙƒÙˆØ± â€“ Bisoprolol",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø¶ØºØ·",
        disease: "Antihypertensive medication",
        med_en: "Enalapril / Losartan",
        med_ar: "Ø§Ù†Ø§Ù„Ø¨Ø±ÙŠÙ„ / Ù„ÙˆØ²Ø§Ø±",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡"
      },
      {
        category: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø¶ØºØ·",
        disease: "Antihypertensive medication",
        med_en: "Enalapril / Losartan",
        med_ar: "Ø§Ù†Ø§Ù„Ø¨Ø±ÙŠÙ„ / Ù„ÙˆØ²Ø§Ø±",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø¶ØºØ·",
        disease: "Antihypertensive medication",
        med_en: "Amlodipine (Amicor 5 mg)",
        med_ar: "Amicor 5 mg â€“ Ø§Ù„Ø§Ù…ÙŠÙƒÙˆØ±",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± Ø£Ùˆ Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø¶ØºØ·",
        disease: "Antihypertensive medication",
        med_en: "Hydrochlorothiazide (HCT 25)",
        med_ar: "HCT 25 â€“ Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙˆØ«ÙŠØ§Ø²Ø§ÙŠØ¯",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡"
      },

      // Antiplatelet
      {
        category: "Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„ØµÙÙŠØ­Ø§Øª",
        disease: "Antiplatelet",
        med_en: "Aspirin / Clopidogrel",
        med_ar: "Ø§Ù„Ø§Ø³Ø¨Ø±ÙŠÙ† / Ø§Ù„Ø¨Ù„Ø§ÙÙŠÙƒØ³",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ ÙˆØ¬Ø¨Ø© Ø§Ù„Ø§ÙØ·Ø§Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ø­ØªÙ‰ ØªÙ‚Ù„ Ø§Ù„Ø§Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©"
      },

      // Heart failure
      {
        category: "ÙØ´Ù„ Ø§Ù„Ù‚Ù„Ø¨",
        disease: "Heart failure",
        med_en: "Furosemide (Lasix)",
        med_ar: "Furosemide â€“ Ø§Ù„Ù„Ø§Ø²ÙŠÙƒØ³",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡"
      },
      {
        category: "ÙØ´Ù„ Ø§Ù„Ù‚Ù„Ø¨",
        disease: "Heart failure",
        med_en: "Digoxin",
        med_ar: "Digoxin â€“ Ø§Ù„Ø¯ÙŠØ¬ÙˆÙƒØ³ÙŠÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "ÙØ´Ù„ Ø§Ù„Ù‚Ù„Ø¨",
        disease: "Heart failure",
        med_en: "Furosemide + Thiazide (combined)",
        med_ar: "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙˆØ«ÙŠØ§Ø²Ø§ÙŠØ¯ ÙˆØ§Ù„Ù„Ø§Ø²ÙŠÙƒØ³ (Ù…Ø¹Ø§Ù‹)",
        frequency: "â€”",
        recommendation: "ÙŠÙ†ØµØ­ Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø§Ø®ØµØ§Ø¦ÙŠ"
      },

      // Epilepsy
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Carbamazepine (Tegretol)",
        med_ar: "Carbamazepine â€“ Ø§Ù„ØªÙŠØ¬Ø±ÙŠØªÙˆÙ„",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø±"
      },
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Carbamazepine (Tegretol)",
        med_ar: "Carbamazepine â€“ Ø§Ù„ØªÙŠØ¬Ø±ÙŠØªÙˆÙ„",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ÙŠØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Sodium Valproate (Depakine)",
        med_ar: "sodium Valproate â€“ Ø§Ù„Ø¯ÙŠØ¨Ø§ÙƒÙŠÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø±"
      },
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Sodium Valproate (Depakine)",
        med_ar: "sodium Valproate â€“ Ø§Ù„Ø¯ÙŠØ¨Ø§ÙƒÙŠÙ†",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø³Ø­ÙˆØ±"
      },
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Phenytoin",
        med_ar: "Phenytoin â€“ Ø§Ù„ÙÙŠÙ†Ø§ØªÙˆÙŠÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø±"
      },
      {
        category: "Ø§Ù„ØµØ±Ø¹",
        disease: "Epilepsy",
        med_en: "Phenytoin",
        med_ar: "Phenytoin â€“ Ø§Ù„ÙÙŠÙ†Ø§ØªÙˆÙŠÙ†",
        frequency: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ØªØ¤Ø®Ø° Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø± ÙˆØ§Ù„Ø³Ø­ÙˆØ±"
      },

      // Asthma
      {
        category: "Ø§Ù„Ø±Ø¨Ùˆ",
        disease: "Asthma",
        med_en: "Inhalers",
        med_ar: "Ø¨Ø®Ø§Ø®Ø§Øª Ø§Ù„Ø£Ø²Ù…Ø©",
        frequency: "â€”",
        recommendation: "ØªØ¤Ø®Ø° ÙƒÙ…Ø§ Ù‡ÙŠØŒ Ù„Ø§ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„ØµÙŠØ§Ù…"
      },
      {
        category: "Ø§Ù„Ø±Ø¨Ùˆ",
        disease: "Asthma",
        med_en: "Vaporizer (Nebulizer device)",
        med_ar: "Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ¨Ø®ÙŠØ±Ø©",
        frequency: "â€”",
        recommendation: "ØªØ¤Ø®Ø° ÙƒÙ…Ø§ Ù‡ÙŠØŒ ØªÙØ¨Ø·Ù„ Ø§Ù„ØµÙŠØ§Ù…"
      },

      // Lipids
      {
        category: "Ø¯Ù‡ÙˆÙ† Ø§Ù„Ø¯Ù…",
        disease: "Lipids",
        med_en: "Simvastatin",
        med_ar: "Simvastatin â€“ Ø¯ÙˆØ§Ø¡ Ø§Ù„Ø¯Ù‡ÙˆÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ÙŠÙˆØ®Ø° Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…"
      },

      // Thyroid medication
      {
        category: "Ø§Ù„ØºØ¯Ø© Ø§Ù„Ø¯Ø±Ù‚ÙŠØ©",
        disease: "Thyroid medication",
        med_en: "Thyroxine",
        med_ar: "Thyroxine â€“ Ø¯ÙˆØ§Ø¡ Ø§Ù„ØºØ¯Ø© Ø§Ù„Ø«Ø§ÙŠØ±ÙˆÙƒØ³ÙŠÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "ÙŠØ¤Ø®Ø° Ø¨Ø¹Ø¯ ÙˆØ¬Ø¨Ø© Ø§Ù„Ø§ÙØ·Ø§Ø± Ø¨Ø³Ø§Ø¹ØªÙŠÙ†ØŒ Ø£Ùˆ Ù‚Ø¨Ù„ Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨Ù†ØµÙ Ø³Ø§Ø¹Ø©"
      },

      // Warfarin
      {
        category: "Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„ØªØ®Ø«Ø±",
        disease: "Warfarin",
        med_en: "Warfarin 5 mg (Coumadin)",
        med_ar: "Warfarin 5 mg â€“ Ø§Ù„ÙƒÙˆÙ…Ø§Ø¯ÙŠÙ†",
        frequency: "Ù…Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹",
        recommendation: "Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØ·Ø§Ø±\nØ¶Ø±ÙˆØ±Ø© Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ù‰ Ø§Ù„ØªØ¯Ø§Ø®Ù„Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ© ÙˆØ§Ù„ØªØ¯Ø§Ø®Ù„Ø§Øª Ù…Ø¹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª\nØ®ØµÙˆØµØ§Ù‹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„ØºÙ†ÙŠØ© Ø¨ÙÙŠØªØ§Ù…ÙŠÙ† K"
      }
    ];

    // =========================
    // UI helpers
    // =========================
    const $ = (sel) => document.querySelector(sel);
    const cardsEl = $("#cards");
    const statsEl = $("#stats");
    const qEl = $("#q");
    const catEl = $("#cat");
    const chipbarEl = $("#chipbar");

    function uniq(arr){ return [...new Set(arr)]; }

    const categories = uniq(DATA.map(x => x.category)).sort((a,b)=>a.localeCompare(b,'ar'));
    const diseaseGroups = uniq(DATA.map(x => x.disease)).sort();

    // fill category select
    for(const c of categories){
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = c;
      catEl.appendChild(opt);
    }

    // chips (quick disease groups)
    const chipAll = document.createElement("div");
    chipAll.className = "chip active";
    chipAll.textContent = "Ø§Ù„ÙƒÙ„";
    chipAll.dataset.disease = "all";
    chipbarEl.appendChild(chipAll);

    for(const d of diseaseGroups){
      const ch = document.createElement("div");
      ch.className = "chip";
      ch.textContent = d.replaceAll("â€“", "-");
      ch.dataset.disease = d;
      chipbarEl.appendChild(ch);
    }

    let activeDisease = "all";

    chipbarEl.addEventListener("click", (e)=>{
      const chip = e.target.closest(".chip");
      if(!chip) return;
      activeDisease = chip.dataset.disease || "all";
      [...chipbarEl.querySelectorAll(".chip")].forEach(x => x.classList.remove("active"));
      chip.classList.add("active");
      render();
    });

    function matches(item, q){
      if(!q) return true;
      const s = (
        (item.category||"") + " " +
        (item.disease||"") + " " +
        (item.med_en||"") + " " +
        (item.med_ar||"") + " " +
        (item.frequency||"") + " " +
        (item.recommendation||"")
      ).toLowerCase();
      return s.includes(q.toLowerCase());
    }

    function filterData(){
      const q = (qEl.value || "").trim();
      const cat = catEl.value || "all";

      return DATA.filter(item => {
        const okQ = matches(item, q);
        const okCat = (cat === "all") ? true : item.category === cat;
        const okDis = (activeDisease === "all") ? true : item.disease === activeDisease;
        return okQ && okCat && okDis;
      });
    }

    function statCard(key, val){
      const d = document.createElement("div");
      d.className = "stat";
      d.innerHTML = `<div class="k">${key}</div><div class="v">${val}</div>`;
      return d;
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function copyText(txt){
      navigator.clipboard?.writeText(txt).then(()=>{
        toast("âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®");
      }).catch(()=>{
        toast("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø³Ø® (Ø¬Ø±Ù‘Ø¨ ÙŠØ¯ÙˆÙŠØ§Ù‹)");
      });
    }

    let toastTimer = null;
    function toast(msg){
      let t = document.getElementById("toast");
      if(!t){
        t = document.createElement("div");
        t.id = "toast";
        t.style.position="fixed";
        t.style.left="14px";
        t.style.bottom="14px";
        t.style.zIndex="9999";
        t.style.padding="10px 12px";
        t.style.borderRadius="14px";
        t.style.border="1px solid rgba(255,255,255,.16)";
        t.style.background="rgba(10,14,28,.86)";
        t.style.backdropFilter="blur(8px)";
        t.style.boxShadow="0 12px 30px rgba(0,0,0,.35)";
        t.style.color="rgba(238,242,255,.92)";
        t.style.fontSize="13px";
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.display="block";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{ t.style.display="none"; }, 1600);
    }

    function render(){
      const items = filterData();

      // stats
      statsEl.innerHTML = "";
      statsEl.appendChild(statCard("Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬", items.length));
      statsEl.appendChild(statCard("Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©/Ø§Ù„ØµÙÙˆÙ Ø§Ù„ÙƒÙ„ÙŠ", DATA.length));
      statsEl.appendChild(statCard("Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©", catEl.value === "all" ? "ÙƒÙ„ Ø§Ù„ÙØ¦Ø§Øª" : catEl.value));
      statsEl.appendChild(statCard("Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©", activeDisease === "all" ? "Ø§Ù„ÙƒÙ„" : activeDisease));

      // cards
      cardsEl.innerHTML = "";

      if(items.length === 0){
        const empty = document.createElement("div");
        empty.className = "card";
        empty.style.gridColumn = "span 12";
        empty.innerHTML = `
          <div class="cardhead">
            <div class="medname">
              <p class="en" style="margin:0">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>
              <p class="ar" style="margin:0">Ø¬Ø±Ù‘Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø§Ù„ÙØ¦Ø©</p>
            </div>
            <span class="badge">0</span>
          </div>
          <div class="cardbody">
            <div class="note">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ø­Ø«:
- Ø§ÙƒØªØ¨ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø§Ø³Ù…: "Ù„Ø§Ø²ÙŠÙƒØ³" Ø£Ùˆ "Coumadin"
- Ø§ÙƒØªØ¨ Ø§Ù„ÙØ¦Ø©: "Ø§Ù„ØµØ±Ø¹" Ø£Ùˆ "Ø¯Ù‡ÙˆÙ†"
- Ø§ÙƒØªØ¨ ØªÙƒØ±Ø§Ø± Ø§Ù„Ø¬Ø±Ø¹Ø©: "Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹"</div>
          </div>
        `;
        cardsEl.appendChild(empty);
        return;
      }

      items.forEach((it, idx) => {
        const card = document.createElement("article");
        card.className = "card";

        const title = `${it.med_ar || ""} â€” ${it.med_en || ""}`.trim();
        const recText = it.recommendation || "";

        const copyPayload =
`Ø§Ù„ÙØ¦Ø©: ${it.category}
Ø§Ù„Ù…Ø±Ø¶/Ø§Ù„Ù‚Ø³Ù…: ${it.disease}
Ø§Ù„Ø¯ÙˆØ§Ø¡: ${it.med_ar} / ${it.med_en}
Ø§Ù„ØªÙƒØ±Ø§Ø±: ${it.frequency || "â€”"}
Ø§Ù„ØªÙˆØµÙŠØ©:
${recText}`;

        card.innerHTML = `
          <div class="cardhead">
            <div class="medname">
              <p class="en">${escapeHtml(it.med_en || "â€”")}</p>
              <p class="ar">${escapeHtml(it.med_ar || "")}</p>
            </div>
            <span class="badge" title="Ø§Ù„ÙØ¦Ø©">${escapeHtml(it.category)}</span>
          </div>

          <div class="cardbody">
            <div class="meta">
              <span class="pill">ğŸ©º ${escapeHtml(it.disease)}</span>
              <span class="pill">â±ï¸ ${escapeHtml(it.frequency || "â€”")}</span>
            </div>

            <div class="rec">${escapeHtml(recText)}</div>
            ${
              (it.med_en || "").toLowerCase().includes("warfarin")
              ? `<div class="note">ØªÙ†Ø¨ÙŠÙ‡: ÙŠØ­ØªØ§Ø¬ Ø¶Ø¨Ø· INR ÙˆØªÙ‚ÙŠÙŠÙ… ØªØ¯Ø§Ø®Ù„Ø§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„ÙˆØ¬Ø¨Ø§Øª Ø¨Ø¬Ø¯Ù‘ÙŠØ©.</div>`
              : ""
            }
          </div>

          <div class="cardfoot">
            <button class="btn" type="button" data-copy="${idx}">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ØªÙˆØµÙŠØ©</button>
            <button class="btn" type="button" data-focus="${idx}">âœ¨ ØªÙƒØ¨ÙŠØ± / Ø¹Ø±Ø¶ Ù…Ø±ÙŠØ­</button>
          </div>
        `;

        // actions
        card.querySelector(`[data-copy="${idx}"]`).addEventListener("click", ()=> copyText(copyPayload));
        card.querySelector(`[data-focus="${idx}"]`).addEventListener("click", ()=> openModal(title, copyPayload, recText));

        cardsEl.appendChild(card);
      });
    }

    // =========================
    // Modal (nice reading view)
    // =========================
    function openModal(title, allText, recOnly){
      let m = document.getElementById("modal");
      if(!m){
        m = document.createElement("div");
        m.id = "modal";
        m.style.position="fixed";
        m.style.inset="0";
        m.style.zIndex="9998";
        m.style.background="rgba(0,0,0,.55)";
        m.style.backdropFilter="blur(6px)";
        m.style.display="none";
        m.innerHTML = `
          <div id="modalBox" style="
            max-width: 820px;
            margin: 6vh auto;
            padding: 14px;
          ">
            <div style="
              border:1px solid rgba(255,255,255,.14);
              border-radius: 18px;
              background: rgba(10,14,28,.88);
              box-shadow: 0 22px 70px rgba(0,0,0,.55);
              overflow:hidden;
            ">
              <div style="
                padding: 14px 14px 10px;
                border-bottom:1px solid rgba(255,255,255,.10);
                display:flex; gap:10px; flex-wrap:wrap;
                align-items:center; justify-content:space-between;
              ">
                <div style="font-weight:800" id="modalTitle">â€”</div>
                <div style="display:flex; gap:8px; flex-wrap:wrap;">
                  <button class="btn" id="modalCopy">ğŸ“‹ Ù†Ø³Ø®</button>
                  <button class="btn danger" id="modalClose">âœ– Ø¥ØºÙ„Ø§Ù‚</button>
                </div>
              </div>
              <div style="padding: 14px;">
                <div class="rec" id="modalRec" style="font-size:14px;"></div>
                <div class="small" style="margin-top:10px; opacity:.85;">
                  Ù†Øµ ÙƒØ§Ù…Ù„ (Ù„Ù„ØªÙˆØ«ÙŠÙ‚/Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©):
                  <pre id="modalAll" class="mono" style="
                    margin:8px 0 0;
                    white-space:pre-wrap;
                    padding:10px 12px;
                    border-radius:14px;
                    border:1px solid rgba(255,255,255,.10);
                    background: rgba(255,255,255,.04);
                    color: rgba(238,242,255,.88);
                    line-height:1.7;
                  "></pre>
                </div>
              </div>
            </div>
          </div>
        `;
        document.body.appendChild(m);

        m.addEventListener("click", (e)=>{
          if(e.target === m) closeModal();
        });
        document.getElementById("modalClose").addEventListener("click", closeModal);
      }

      document.getElementById("modalTitle").textContent = title;
      document.getElementById("modalRec").textContent = recOnly;
      document.getElementById("modalAll").textContent = allText;

      document.getElementById("modalCopy").onclick = ()=> copyText(allText);

      m.style.display="block";
      document.body.style.overflow="hidden";
    }

    function closeModal(){
      const m = document.getElementById("modal");
      if(m) m.style.display="none";
      document.body.style.overflow="auto";
    }

    // =========================
    // Download this HTML
    // =========================
    function downloadHtml(){
      const html = "<!doctype html>\n" + document.documentElement.outerHTML;
      const blob = new Blob([html], {type: "text/html;charset=utf-8"});
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "Ramadan-Meds.html";
      document.body.appendChild(a);
      a.click();
      a.remove();
      setTimeout(()=>URL.revokeObjectURL(a.href), 1200);
      toast("â¬‡ï¸ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù");
    }

    // =========================
    // Events
    // =========================
    qEl.addEventListener("input", render);
    catEl.addEventListener("change", render);

    $("#resetBtn").addEventListener("click", ()=>{
      qEl.value = "";
      catEl.value = "all";
      activeDisease = "all";
      [...chipbarEl.querySelectorAll(".chip")].forEach(x => x.classList.remove("active"));
      chipbarEl.querySelector(".chip").classList.add("active");
      render();
    });

    $("#printBtn").addEventListener("click", ()=> window.print());
    $("#downloadBtn").addEventListener("click", downloadHtml);

    // initial render
    render();
  </script>
</body>
</html>
